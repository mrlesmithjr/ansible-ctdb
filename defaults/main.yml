---
# defaults file for ansible-ctdb
config_ctdb: false
ctdb_glusterfs_mount: '/mnt/ctdb'  #NEEDS TO BE A GLUSTERFS MOUNT....or LOCKING FAILS
ctdb_glusterfs_client_mount: '/data/shares'
ctdb_install_samba: true  #define if samba is to be installed using this role or set to false if you use another ansible role to install samba
ctdb_install_winbind: true
ctdb_lock_folder: '{{ ctdb_glusterfs_mount }}/lock'
ctdb_lockfile: '{{ ctdb_lock_folder }}/lockfile'
ctdb_manages_nfs: false
ctdb_manages_samba: true
ctdb_manages_winbind: false  #enable if using Samba in AD or LDAP
#ctdb_cluster_start_address: 50
#ctdb_cluster_subnet: 192.168.202
ctdb_nodes_cluster_address_int: 'eth1'  #ensure the address associated with this interface is already configured (eth0|eth1|eth2|enp0s3|enp0s8|etc...)
ctdb_nodes_file: '/etc/ctdb/nodes'
ctdb_nodes_group: 'ctdb-servers'
ctdb_public_addresses:
  - address: 192.168.202.100  #samba
    bind_interface: '{{ ansible_eth1.device }}'
    cidr: 24
  - address: 192.168.202.101  #nfs
    bind_interface: '{{ ansible_eth1.device }}'
    cidr: 24
ctdb_public_addresses_file: '/etc/ctdb/public_addresses'
ctdb_public_network: 192.168.202.0/24
ctdb_samba_active_directory_info:
  idmap_range: '1000-90000'
  kdc:
    - 'dc01.{{ pri_domain_name }}'
    - 'dc02.{{ pri_domain_name }}'
  preferred_master: 'no'
  realm: '{{ pri_domain_name|upper }}'
  winbind_use_default_domain: true
  winbind_enum_users: false
  winbind_enum_groups: false
  winbind_cache_time: 900
  workgroup: 'EVERYTHING'
ctdb_samba_ctdbd_socket_file: '/var/lib/run/ctdb/ctdbd.socket'
ctdb_samba_global_options:
  dns_proxy: false
  max_log_size: 1000
  netbios_name: 'SMBCLUSTER'
  server_string: '%h server (Samba, Ubuntu)'  #MAY NEED TO SET THIS TO A VAR SO ALL NODES SHARE THE SAME NETBIOS NAME
  unix_password_sync: true
  wins_server: []
  wins_support: false
  workgroup: 'WORKGROUP'
ctdb_samba_join_domain: false
ctdb_samba_shares:
  - name: 'shares'
    comment: 'Gluster and CTDB based share'
    path: '{{ ctdb_glusterfs_client_mount }}'
    read_only: 'no'
    guest_ok: 'yes'
ctdb_ulimit: 10000
pri_domain_name: 'everythingshouldbevirtual.local'
